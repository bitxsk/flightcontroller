###############################################################################
#
# IAR ANSI C/C++ Compiler V8.11.2.13589/W32 for ARM       18/Jun/2018  19:48:00
# Copyright 1999-2017 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\app\Sensor\MS5611
#        Air Pressure.cpp
#    Command line =  
#        -f C:\Users\XSK199~1\AppData\Local\Temp\EW25A7.tmp
#        ("C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\app\Sensor\MS5611
#        Air Pressure.cpp" -D K60 -D USE_K60F15 -D ARM_MATH_CM4 -D
#        __FPU_PRESENT=1 -D __FPU_USED=1 -lCN
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\RAM\List
#        -lB
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\RAM\List
#        -o
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\RAM\Obj
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=VFPv4_sp --dlib_config
#        D:\iar\arm\INC\c\DLib_Config_Normal.h -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\app\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\app\Sensor\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\CPU\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\common\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\LPLD\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\LPLD\HW\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\LPLD\DEV\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\LPLD\FUNC\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\uCOS-II\Ports\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\uCOS-II\Source\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\FatFs\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\FatFs\option\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\USB\common\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\USB\driver\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\USB\descriptor\
#        -I
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\..\lib\USB\class\
#        -On --c++ -I D:\iar\arm\CMSIS\Include\ -D ARM_MATH_CM4)
#    Locale       =  C
#    List file    =  
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\RAM\List\MS5611
#        Air Pressure.lst
#    Object file  =  
#        C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\iar\RAM\Obj\MS5611
#        Air Pressure.o
#
###############################################################################

C:\Users\xsk19940910\Desktop\flightController-1\flightController-1\program\app\Sensor\MS5611 Air Pressure.cpp
      1          
      2          /*功能描述：MS5611大气压强模块数据采集计算 V1.0*/
      3          /********************************************************************************    
      4            * @file    MS5611.c
      5            * @author  pei4566
      6            * @version V1.0.2
      7            * @date    04-October-2015
      8            * @brief   pressure sensor SPI interface program source code, 
      9            *          the realization of temperature, pressure, collecting calculate positionZ.
     10            *           
     11          *********************************************************************************/
     12          
     13          #include "MS5611 Air Pressure.h"

   \                                 In section .text, align 4
   \   __code __interwork __softfp CJumpFilter::CJumpFilter()
   \                     _ZN11CJumpFilterC1Ev: (+1)
   \   00000000   0x4904             LDR.N    R1,??CJumpFilter_0  ;; 0x42c80000
   \   00000002   0x6081             STR      R1,[R0, #+8]
   \   00000004   0xF44F 0x7196      MOV      R1,#+300
   \   00000008   0x6281             STR      R1,[R0, #+40]
   \   0000000A   0xF05F 0x517E      MOVS     R1,#+1065353216
   \   0000000E   0x62C1             STR      R1,[R0, #+44]
   \   00000010   0x4770             BX       LR               ;; return
   \   00000012   0xBF00             Nop      
   \                     ??CJumpFilter_0:
   \   00000014   0x42C80000         DC32     0x42c80000
     14          
     15          

   \                                 In section .text, align 2, keep-with-next
   \   static __intrinsic __interwork __softfp void __sti__routine()
   \                     __sti__routine: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     16          CJumpFilter BarodistanceFilter;
   \   00000002   0x.... 0x....      LDR.W    R0,??DataTable5_5
   \   00000006   0x.... 0x....      BL       _ZN11CJumpFilterC1Ev
   \   0000000A   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .bss, align 4
   \                     BarodistanceFilter:
   \   00000000                      DS8 56
     17          

   \                                 In section .bss, align 2
     18          static uint16 setup,C1,C2,C3,C4,C5,C6,CRC_1;  //用于存放PROM中的8组数据
   \                     setup:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     `C1`:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     `C2`:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     `C3`:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     `C4`:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     `C5`:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     `C6`:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
   \                     CRC_1:
   \   00000000                      DS8 2

   \                                 In section .bss, align 4
     19          static unsigned long D1_Pres,D2_Temp,D2_Temp_f,D1_Pres_f;      //用于存放温度和压力 
   \                     D1_Pres:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     D2_Temp:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     D2_Temp_f:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     D1_Pres_f:
   \   00000000                      DS8 4

   \                                 In section .bss, align 8
     20          static double OFF,SENS;                    //实际温度抵消、实际温度灵敏度
   \                     OFF:
   \   00000000                      DS8 8

   \                                 In section .bss, align 8
   \                     SENS:
   \   00000000                      DS8 8

   \                                 In section .bss, align 4
     21          static float dT,Temperature,Pressure,Pressure_f;      //实际和参考温度之间的差异、温度值、压力值
   \                     dT:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Temperature:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Pressure:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Pressure_f:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     22          static float TEMP2=0,Aux,OFF2=0,SENS2=0;         //温度检验值
   \                     TEMP2:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     Aux:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     OFF2:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     SENS2:
   \   00000000                      DS8 4

   \                                 In section .bss, align 8
     23          double Baro_hight;
   \                     Baro_hight:
   \   00000000                      DS8 8

   \                                 In section .bss, align 4
     24          int BaroInitSampleTime;
   \                     BaroInitSampleTime:
   \   00000000                      DS8 4

   \                                 In section .bss, align 8
     25          double BaroInitSampleValue[MS5611_INITSAMPLETIME];
   \                     BaroInitSampleValue:
   \   00000000                      DS8 200

   \                                 In section .bss, align 1
     26          bool BaroInitFlag = false;
   \                     BaroInitFlag:
   \   00000000                      DS8 1
     27          

   \                                 In section .bss, align 8
     28          double BaroHightInit = 0;
   \                     BaroHightInit:
   \   00000000                      DS8 8
     29          

   \                                 In section .bss, align 4
     30          float tmp_float;   
   \                     tmp_float:
   \   00000000                      DS8 4
     31           

   \                                 In section .bss, align 4
     32          unsigned long value_buf1[N_P]={0},value_buf2[N_P]={0}; 
   \                     value_buf1:
   \   00000000                      DS8 40

   \                                 In section .bss, align 4
   \                     value_buf2:
   \   00000000                      DS8 40
     33          

   \                                 In section .text, align 2, keep-with-next
     34          void MS5611_init()
     35          {
   \                     _Z11MS5611_initv: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     36          //  if(BaroInitSampleTime == MS5611_INITSAMPLETIME - 1)
     37          //  {
     38          //    double mean = 0;
     39          //    for(int i = 0; i < BaroInitSampleTime; i++)
     40          //    {
     41          //      mean += BaroInitSampleValue[i];
     42          //    }
     43          //    mean /= MS5611_INITSAMPLETIME;
     44          //    
     45          //
     46          //    int k = 0;
     47          //    for(int i = 0; i < BaroInitSampleTime; i++)
     48          //    {
     49          //      if(abs(BaroInitSampleValue[i] - mean) < 5)
     50          //      {
     51          //        BaroHightInit += BaroInitSampleValue[i];
     52          //        k++;
     53          //      }
     54          //    }
     55          //    BaroHightInit /= k;
     56          //    
     57          //    
     58          //    BarodistanceFilter.setParameter(0.1, 800);
     59          //    BarodistanceFilter.maxValue = BaroHightInit + 5.0f;
     60          //    BarodistanceFilter.minValue = BaroHightInit - 5.0f;
     61          //    BaroInitFlag = true;
     62          //  }
     63            MS5611_RESET();
   \   00000002   0x.... 0x....      BL       _Z12MS5611_RESETv
     64            LPTMR_DelayMs(10);   
   \   00000006   0x200A             MOVS     R0,#+10
   \   00000008   0x.... 0x....      BL       LPTMR_DelayMs
     65            MS5611_PROM_READ();
   \   0000000C   0x.... 0x....      BL       _Z16MS5611_PROM_READv
     66            LPTMR_DelayMs(10);   
   \   00000010   0x200A             MOVS     R0,#+10
   \   00000012   0x.... 0x....      BL       LPTMR_DelayMs
     67          }
   \                     ??MS5611_init_0: (+1)
   \   00000016   0xBD01             POP      {R0,PC}          ;; return
     68          /*******************************************************************************
     69            SPI1 读写一个字节
     70            函数名称：MS5611_ReadWriteByte
     71            输入参数：TxData
     72            输出参数：读取到的字节
     73          *******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
     74          u8 MS5611_ReadWriteByte(u8 TxData, u8 s)
     75          {            
   \                     _Z20MS5611_ReadWriteBytehh: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
     76            return SPI_Master_WriteRead(MS5611_SPIx, TxData, MS5611_CS, s);//SPI_PCS_ASSERTED  SPI_PCS_INACTIVE
   \   00000006   0x002B             MOVS     R3,R5
   \   00000008   0xB2DB             UXTB     R3,R3            ;; ZeroExt  R3,R3,#+24,#+24
   \   0000000A   0x2206             MOVS     R2,#+6
   \   0000000C   0x0021             MOVS     R1,R4
   \   0000000E   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000010   0x.... 0x....      LDR.W    R0,??DataTable5_6  ;; 0x4002d000
   \   00000014   0x.... 0x....      BL       SPI_Master_WriteRead
   \   00000018   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \                     ??MS5611_ReadWriteByte_0: (+1)
   \   0000001A   0xBD32             POP      {R1,R4,R5,PC}    ;; return
     77          }
     78          
     79          
     80          /*******************************************************************************
     81            SPI1 读写两个字节
     82            函数名称：MS5611_ReadWrite_16bits
     83            输入参数：addr
     84            输出参数：读取到的16位数据
     85          *******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
     86          uint16 MS5611_ReadWrite_16bits(unsigned char addr)
     87          {
   \                     _Z23MS5611_ReadWrite_16bitsh: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x0004             MOVS     R4,R0
     88            unsigned char byteH,byteL;
     89            unsigned int return_value;
     90              
     91            MS5611_ReadWriteByte(addr, SPI_PCS_ASSERTED);
   \   00000004   0x2101             MOVS     R1,#+1
   \   00000006   0x0020             MOVS     R0,R4
   \   00000008   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000000A   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
     92            byteH = MS5611_ReadWriteByte(0, SPI_PCS_ASSERTED);
   \   0000000E   0x2101             MOVS     R1,#+1
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000016   0x0005             MOVS     R5,R0
     93            byteL = MS5611_ReadWriteByte(0, SPI_PCS_INACTIVE);
   \   00000018   0x2100             MOVS     R1,#+0
   \   0000001A   0x2000             MOVS     R0,#+0
   \   0000001C   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000020   0x0001             MOVS     R1,R0
     94            
     95            return_value = ((unsigned int)byteH<<8) | (byteL);
   \   00000022   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000024   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000026   0xEA51 0x2005      ORRS     R0,R1,R5, LSL #+8
     96            return(return_value);    
   \   0000002A   0xB280             UXTH     R0,R0            ;; ZeroExt  R0,R0,#+16,#+16
   \                     ??MS5611_ReadWrite_16bits_0: (+1)
   \   0000002C   0xBD32             POP      {R1,R4,R5,PC}    ;; return
     97          }
     98          
     99          
    100          /*******************************************************************************
    101            SPI1写寄存器  
    102            函数名称：MS5611_Write_Reg
    103            输入参数：SlaveAddress(从机地址)、REG_Address（指定的寄存器地址）
    104            输出参数：返回状态值
    105          *******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    106          u8 MS5611_Write_Reg(u8 REG_Address,u8 REG_data)
    107          {
   \                     _Z16MS5611_Write_Reghh: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
    108            u8 status;
    109            
    110            status=MS5611_ReadWriteByte(REG_Address, SPI_PCS_ASSERTED);   //发送写命令+寄存器号
   \   00000006   0x2101             MOVS     R1,#+1
   \   00000008   0x0020             MOVS     R0,R4
   \   0000000A   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000000C   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000010   0x0006             MOVS     R6,R0
    111            MS5611_ReadWriteByte(REG_data, SPI_PCS_INACTIVE);             //写入寄存器值
   \   00000012   0x2100             MOVS     R1,#+0
   \   00000014   0x0028             MOVS     R0,R5
   \   00000016   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000018   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
    112          
    113            return(status);                           //返回状态值
   \   0000001C   0x0030             MOVS     R0,R6
   \   0000001E   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \                     ??MS5611_Write_Reg_0: (+1)
   \   00000020   0xBD70             POP      {R4-R6,PC}       ;; return
    114          }
    115          
    116          

   \                                 In section .text, align 2, keep-with-next
    117          void MS5611_RESET(void)
    118          {    
   \                     _Z12MS5611_RESETv: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    119             MS5611_ReadWriteByte(CMD_MS5611_RESET,SPI_PCS_INACTIVE);
   \   00000002   0x2100             MOVS     R1,#+0
   \   00000004   0x201E             MOVS     R0,#+30
   \   00000006   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
    120          }
   \                     ??MS5611_RESET_0: (+1)
   \   0000000A   0xBD01             POP      {R0,PC}          ;; return
    121          
    122          /*******************************************************************************
    123            从PROM读取出厂校准数据
    124            函数名称：MS5611_PROM_READ
    125            输入参数：void
    126            输出参数：void
    127          *******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    128          void MS5611_PROM_READ(void)
    129          {
   \                     _Z16MS5611_PROM_READv: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    130            C1 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_C1);
   \   00000002   0x20A2             MOVS     R0,#+162
   \   00000004   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   00000008   0x.... 0x....      LDR.W    R1,??DataTable5_7
   \   0000000C   0x8008             STRH     R0,[R1, #+0]
    131            C2 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_C2);
   \   0000000E   0x20A4             MOVS     R0,#+164
   \   00000010   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   00000014   0x.... 0x....      LDR.W    R1,??DataTable5_8
   \   00000018   0x8008             STRH     R0,[R1, #+0]
    132            C3 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_C3);
   \   0000001A   0x20A6             MOVS     R0,#+166
   \   0000001C   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   00000020   0x.... 0x....      LDR.W    R1,??DataTable5_9
   \   00000024   0x8008             STRH     R0,[R1, #+0]
    133            C4 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_C4);
   \   00000026   0x20A8             MOVS     R0,#+168
   \   00000028   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   0000002C   0x.... 0x....      LDR.W    R1,??DataTable5_10
   \   00000030   0x8008             STRH     R0,[R1, #+0]
    134            C5 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_C5);
   \   00000032   0x20AA             MOVS     R0,#+170
   \   00000034   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   00000038   0x.... 0x....      LDR.W    R1,??DataTable5_11
   \   0000003C   0x8008             STRH     R0,[R1, #+0]
    135            C6 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_C6);
   \   0000003E   0x20AC             MOVS     R0,#+172
   \   00000040   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   00000044   0x.... 0x....      LDR.W    R1,??DataTable5_12
   \   00000048   0x8008             STRH     R0,[R1, #+0]
    136            setup = MS5611_ReadWrite_16bits(CMD_MS5611_RESET);
   \   0000004A   0x201E             MOVS     R0,#+30
   \   0000004C   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   00000050   0x.... 0x....      LDR.W    R1,??DataTable5_13
   \   00000054   0x8008             STRH     R0,[R1, #+0]
    137            CRC_1 = MS5611_ReadWrite_16bits(CMD_MS5611_PROM_CRC); 
   \   00000056   0x20AE             MOVS     R0,#+174
   \   00000058   0x.... 0x....      BL       _Z23MS5611_ReadWrite_16bitsh
   \   0000005C   0x.... 0x....      LDR.W    R1,??DataTable5_14
   \   00000060   0x8008             STRH     R0,[R1, #+0]
    138          }
   \                     ??MS5611_PROM_READ_0: (+1)
   \   00000062   0xBD01             POP      {R0,PC}          ;; return
    139          
    140          /*******************************************************************************
    141            读取ADC结果
    142            函数名称：MS5611_SPI_read_ADC
    143            输入参数：void
    144            输出参数：返回24位的气压/温度值
    145          *******************************************************************************/

   \                                 In section .text, align 2, keep-with-next
    146          long MS5611_SPI_read_ADC(void)
    147          {
   \                     _Z19MS5611_SPI_read_ADCv: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    148            unsigned char byteH,byteM,byteL;
    149            long return_value;
    150            
    151              
    152            MS5611_ReadWriteByte(MS5611_ADC, SPI_PCS_ASSERTED);
   \   00000002   0x2101             MOVS     R1,#+1
   \   00000004   0x2000             MOVS     R0,#+0
   \   00000006   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
    153            byteH = MS5611_ReadWriteByte(0, SPI_PCS_ASSERTED);
   \   0000000A   0x2101             MOVS     R1,#+1
   \   0000000C   0x2000             MOVS     R0,#+0
   \   0000000E   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000012   0x0004             MOVS     R4,R0
    154            byteM = MS5611_ReadWriteByte(0, SPI_PCS_ASSERTED);
   \   00000014   0x2101             MOVS     R1,#+1
   \   00000016   0x2000             MOVS     R0,#+0
   \   00000018   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   0000001C   0x0005             MOVS     R5,R0
    155            byteL = MS5611_ReadWriteByte(0, SPI_PCS_INACTIVE);
   \   0000001E   0x2100             MOVS     R1,#+0
   \   00000020   0x2000             MOVS     R0,#+0
   \   00000022   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000026   0x0001             MOVS     R1,R0
    156              
    157            return_value = (((long)byteH)<<16) | (((long)byteM)<<8) | (byteL);
   \   00000028   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000002A   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   0000002C   0x0228             LSLS     R0,R5,#+8
   \   0000002E   0xEA50 0x4004      ORRS     R0,R0,R4, LSL #+16
   \   00000032   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000034   0x4308             ORRS     R0,R1,R0
    158            return(return_value);
   \                     ??MS5611_SPI_read_ADC_0: (+1)
   \   00000036   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    159          }
    160          /*******************************************************************************
    161            通过MS5611模块得到气压值
    162            函数名称：MS5611_getPressure
    163            输入参数：气压分辨率系数
    164            输出参数：void
    165          *******************************************************************************/

   \                                 In section .text, align 4, keep-with-next
    166          void MS5611_getPressure(unsigned char OSR_Pres)
    167          {
   \                     _Z18MS5611_getPressureh: (+1)
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0x0004             MOVS     R4,R0
    168            u8 temp;
    169            char count,i;
    170            unsigned long sum=0;   
   \   00000006   0x2500             MOVS     R5,#+0
    171                                               
    172          //  temp = MS5611_ReadWriteByte(CMD_CONVERT_D1_OSR4096, SPI_PCS_INACTIVE);
    173            temp = MS5611_ReadWriteByte(OSR_Pres, SPI_PCS_INACTIVE);
   \   00000008   0x2100             MOVS     R1,#+0
   \   0000000A   0x0020             MOVS     R0,R4
   \   0000000C   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000000E   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000012   0xF88D 0x0000      STRB     R0,[SP, #+0]
    174                                          
    175            LPTMR_DelayMs(10);                                      //必须加
   \   00000016   0x200A             MOVS     R0,#+10
   \   00000018   0x.... 0x....      BL       LPTMR_DelayMs
    176          //  D1_Pres = MS5611_SPI_read_ADC();
    177            value_buf1[0] = MS5611_SPI_read_ADC();
   \   0000001C   0x.... 0x....      BL       _Z19MS5611_SPI_read_ADCv
   \   00000020   0x.... 0x....      LDR.W    R1,??DataTable5_15
   \   00000024   0x6008             STR      R0,[R1, #+0]
    178            for(i=0;i<N_P;i++)sum+=value_buf1[i];
   \   00000026   0x2600             MOVS     R6,#+0
   \                     ??MS5611_getPressure_0: (+1)
   \   00000028   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   0000002A   0x2E0A             CMP      R6,#+10
   \   0000002C   0xDA07             BGE.N    ??MS5611_getPressure_1
   \   0000002E   0x.... 0x....      LDR.W    R0,??DataTable5_15
   \   00000032   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   00000034   0xF850 0x0026      LDR      R0,[R0, R6, LSL #+2]
   \   00000038   0x1945             ADDS     R5,R0,R5
   \   0000003A   0x1C76             ADDS     R6,R6,#+1
   \   0000003C   0xE7F4             B.N      ??MS5611_getPressure_0
    179            D1_Pres = sum/N_P;
   \                     ??MS5611_getPressure_1: (+1)
   \   0000003E   0x200A             MOVS     R0,#+10
   \   00000040   0xFBB5 0xF0F0      UDIV     R0,R5,R0
   \   00000044   0x.... 0x....      LDR.W    R1,??DataTable5_16
   \   00000048   0x6008             STR      R0,[R1, #+0]
    180            for(count=0;count<N_P-1;count++)
   \   0000004A   0x2700             MOVS     R7,#+0
   \                     ??MS5611_getPressure_2: (+1)
   \   0000004C   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   0000004E   0x2F09             CMP      R7,#+9
   \   00000050   0xDA0F             BGE.N    ??MS5611_getPressure_3
    181            {
    182              value_buf1[N_P - count - 1] = value_buf1[N_P - count - 2];
   \   00000052   0x.... 0x....      LDR.W    R0,??DataTable5_15
   \   00000056   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   00000058   0x4279             RSBS     R1,R7,#+0
   \   0000005A   0xEB00 0x0081      ADD      R0,R0,R1, LSL #+2
   \   0000005E   0x6A00             LDR      R0,[R0, #+32]
   \   00000060   0x.... 0x....      LDR.W    R1,??DataTable5_15
   \   00000064   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   00000066   0x427A             RSBS     R2,R7,#+0
   \   00000068   0xEB01 0x0182      ADD      R1,R1,R2, LSL #+2
   \   0000006C   0x6248             STR      R0,[R1, #+36]
    183            }
   \   0000006E   0x1C7F             ADDS     R7,R7,#+1
   \   00000070   0xE7EC             B.N      ??MS5611_getPressure_2
    184            D1_Pres_f = 1 * D1_Pres + 0 * D1_Pres_f;
   \                     ??MS5611_getPressure_3: (+1)
   \   00000072   0x.... 0x....      LDR.W    R0,??DataTable5_16
   \   00000076   0x6801             LDR      R1,[R0, #+0]
   \   00000078   0x.... 0x....      LDR.W    R0,??DataTable5_17
   \   0000007C   0x6802             LDR      R2,[R0, #+0]
   \   0000007E   0x2000             MOVS     R0,#+0
   \   00000080   0xFB00 0x1102      MLA      R1,R0,R2,R1
   \   00000084   0x.... 0x....      LDR.W    R0,??DataTable5_17
   \   00000088   0x6001             STR      R1,[R0, #+0]
    185          //  D1_Pres = 9362000;
    186            OFF=(unsigned long)C2*65536+((unsigned long)C4*dT)/128;
   \   0000008A   0x.... 0x....      LDR.W    R0,??DataTable5_8
   \   0000008E   0x8801             LDRH     R1,[R0, #+0]
   \   00000090   0xF45F 0x3080      MOVS     R0,#+65536
   \   00000094   0x4341             MULS     R1,R0,R1
   \   00000096   0xEE00 0x1A10      VMOV     S0,R1
   \   0000009A   0xEEB8 0x0A40      VCVT.F32.U32 S0,S0
   \   0000009E   0x.... 0x....      LDR.W    R0,??DataTable5_10
   \   000000A2   0x8800             LDRH     R0,[R0, #+0]
   \   000000A4   0xEE00 0x0A90      VMOV     S1,R0
   \   000000A8   0xEEF8 0x0A60      VCVT.F32.U32 S1,S1
   \   000000AC   0x.... 0x....      LDR.W    R0,??DataTable5_18
   \   000000B0   0xED90 0x1A00      VLDR     S2,[R0, #0]
   \   000000B4   0xEE60 0x0A81      VMUL.F32 S1,S1,S2
   \   000000B8   0xED9F 0x....      VLDR.W   S2,??DataTable3  ;; 0x43000000
   \   000000BC   0xEEC0 0x0A81      VDIV.F32 S1,S1,S2
   \   000000C0   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   000000C4   0xEE10 0x0A10      VMOV     R0,S0
   \   000000C8   0x.... 0x....      BL       __aeabi_f2d
   \   000000CC   0x.... 0x....      LDR.W    R2,??DataTable5_19
   \   000000D0   0xE9C2 0x0100      STRD     R0,R1,[R2, #+0]
    187            SENS=(unsigned long)C1*32768+((unsigned long)C3*dT)/256;
   \   000000D4   0x.... 0x....      LDR.W    R0,??DataTable5_7
   \   000000D8   0x8801             LDRH     R1,[R0, #+0]
   \   000000DA   0xF44F 0x4000      MOV      R0,#+32768
   \   000000DE   0x4341             MULS     R1,R0,R1
   \   000000E0   0xEE00 0x1A10      VMOV     S0,R1
   \   000000E4   0xEEB8 0x0A40      VCVT.F32.U32 S0,S0
   \   000000E8   0x.... 0x....      LDR.W    R0,??DataTable5_9
   \   000000EC   0x8800             LDRH     R0,[R0, #+0]
   \   000000EE   0xEE00 0x0A90      VMOV     S1,R0
   \   000000F2   0xEEF8 0x0A60      VCVT.F32.U32 S1,S1
   \   000000F6   0x.... 0x....      LDR.W    R0,??DataTable5_18
   \   000000FA   0xED90 0x1A00      VLDR     S2,[R0, #0]
   \   000000FE   0xEE60 0x0A81      VMUL.F32 S1,S1,S2
   \   00000102   0xED9F 0x....      VLDR.W   S2,??DataTable3_1  ;; 0x43800000
   \   00000106   0xEEC0 0x0A81      VDIV.F32 S1,S1,S2
   \   0000010A   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   0000010E   0xEE10 0x0A10      VMOV     R0,S0
   \   00000112   0x.... 0x....      BL       __aeabi_f2d
   \   00000116   0x.... 0x....      LDR.W    R2,??DataTable5_20
   \   0000011A   0xE9C2 0x0100      STRD     R0,R1,[R2, #+0]
    188            
    189            if(Temperature<2000)
   \   0000011E   0x.... 0x....      LDR.W    R0,??DataTable5_21
   \   00000122   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   00000126   0xEDDF 0x....      VLDR.W   S1,??DataTable3_2  ;; 0x44fa0000
   \   0000012A   0xEEB4 0x0A60      VCMP.F32 S0,S1
   \   0000012E   0xEEF1 0xFA10      FMSTAT   
   \   00000132   0xF140 0x8099      BPL.W    ??MS5611_getPressure_4
    190            {
    191              // second order temperature compensation when under 20 degrees C
    192              TEMP2 = (dT*dT) / 0x80000000;
   \   00000136   0x.... 0x....      LDR.W    R0,??DataTable5_18
   \   0000013A   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   0000013E   0x.... 0x....      LDR.W    R0,??DataTable5_18
   \   00000142   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   00000146   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000014A   0xEDDF 0x....      VLDR.W   S1,??DataTable3_3  ;; 0x4f000000
   \   0000014E   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   00000152   0x.... 0x....      LDR.W    R0,??DataTable5_22
   \   00000156   0xED80 0x0A00      VSTR     S0,[R0, #0]
    193              Aux = (Temperature-2000)*(Temperature-2000);
   \   0000015A   0x.... 0x....      LDR.W    R0,??DataTable5_21
   \   0000015E   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   00000162   0xEDDF 0x....      VLDR.W   S1,??DataTable3_4  ;; 0xc4fa0000
   \   00000166   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   0000016A   0x.... 0x....      LDR.W    R0,??DataTable5_21
   \   0000016E   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   00000172   0xED9F 0x....      VLDR.W   S2,??DataTable3_4  ;; 0xc4fa0000
   \   00000176   0xEE70 0x0A81      VADD.F32 S1,S1,S2
   \   0000017A   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   0000017E   0x.... 0x....      LDR.W    R0,??DataTable5_23
   \   00000182   0xED80 0x0A00      VSTR     S0,[R0, #0]
    194              OFF2 = 2.5*Aux;
   \   00000186   0x.... 0x....      LDR.W    R0,??DataTable5_23
   \   0000018A   0x6800             LDR      R0,[R0, #+0]
   \   0000018C   0x.... 0x....      BL       __aeabi_f2d
   \   00000190   0x2200             MOVS     R2,#+0
   \   00000192   0x.... 0x....      LDR.W    R3,??DataTable5_24  ;; 0x40040000
   \   00000196   0x.... 0x....      BL       __aeabi_dmul
   \   0000019A   0x.... 0x....      BL       __aeabi_d2f
   \   0000019E   0x.... 0x....      LDR.W    R1,??DataTable5_25
   \   000001A2   0x6008             STR      R0,[R1, #+0]
    195              SENS2 = 1.25*Aux;
   \   000001A4   0x.... 0x....      LDR.W    R0,??DataTable5_23
   \   000001A8   0x6800             LDR      R0,[R0, #+0]
   \   000001AA   0x.... 0x....      BL       __aeabi_f2d
   \   000001AE   0x2200             MOVS     R2,#+0
   \   000001B0   0x.... 0x....      LDR.W    R3,??DataTable5_26  ;; 0x3ff40000
   \   000001B4   0x.... 0x....      BL       __aeabi_dmul
   \   000001B8   0x.... 0x....      BL       __aeabi_d2f
   \   000001BC   0x.... 0x....      LDR.W    R1,??DataTable5_27
   \   000001C0   0x6008             STR      R0,[R1, #+0]
    196              if(Temperature<-1500)
   \   000001C2   0x....             LDR.N    R0,??DataTable5_21
   \   000001C4   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   000001C8   0xEDDF 0x....      VLDR.W   S1,??DataTable3_5  ;; 0xc4bb8000
   \   000001CC   0xEEB4 0x0A60      VCMP.F32 S0,S1
   \   000001D0   0xEEF1 0xFA10      FMSTAT   
   \   000001D4   0xD551             BPL.N    ??MS5611_getPressure_5
    197              {
    198                OFF2 += 7*(Temperature+1500)*(Temperature+1500);
   \   000001D6   0x....             LDR.N    R0,??DataTable5_21
   \   000001D8   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   000001DC   0xEDDF 0x....      VLDR.W   S1,??DataTable4  ;; 0x44bb8000
   \   000001E0   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   000001E4   0xEEF1 0x0A0C      VMOV.F32 S1,#7.0
   \   000001E8   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   000001EC   0x....             LDR.N    R0,??DataTable5_21
   \   000001EE   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   000001F2   0xED9F 0x....      VLDR.W   S2,??DataTable4  ;; 0x44bb8000
   \   000001F6   0xEE70 0x0A81      VADD.F32 S1,S1,S2
   \   000001FA   0x....             LDR.N    R0,??DataTable5_25
   \   000001FC   0xED90 0x1A00      VLDR     S2,[R0, #0]
   \   00000200   0xEE00 0x1A20      VMLA.F32 S2,S0,S1
   \   00000204   0x....             LDR.N    R0,??DataTable5_25
   \   00000206   0xED80 0x1A00      VSTR     S2,[R0, #0]
    199                SENS2 += 5.5*(Temperature+1500)*(Temperature+1500);
   \   0000020A   0x....             LDR.N    R0,??DataTable5_27
   \   0000020C   0x6800             LDR      R0,[R0, #+0]
   \   0000020E   0x.... 0x....      BL       __aeabi_f2d
   \   00000212   0x4682             MOV      R10,R0
   \   00000214   0x468B             MOV      R11,R1
   \   00000216   0x....             LDR.N    R0,??DataTable5_21
   \   00000218   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   0000021C   0xEDDF 0x....      VLDR.W   S1,??DataTable4  ;; 0x44bb8000
   \   00000220   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   00000224   0xEE10 0x0A10      VMOV     R0,S0
   \   00000228   0x.... 0x....      BL       __aeabi_f2d
   \   0000022C   0x2200             MOVS     R2,#+0
   \   0000022E   0x....             LDR.N    R3,??DataTable5_28  ;; 0x40160000
   \   00000230   0x.... 0x....      BL       __aeabi_dmul
   \   00000234   0x4680             MOV      R8,R0
   \   00000236   0x4689             MOV      R9,R1
   \   00000238   0x....             LDR.N    R0,??DataTable5_21
   \   0000023A   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   0000023E   0xEDDF 0x....      VLDR.W   S1,??DataTable4  ;; 0x44bb8000
   \   00000242   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   00000246   0xEE10 0x0A10      VMOV     R0,S0
   \   0000024A   0x.... 0x....      BL       __aeabi_f2d
   \   0000024E   0x4642             MOV      R2,R8
   \   00000250   0x464B             MOV      R3,R9
   \   00000252   0x.... 0x....      BL       __aeabi_dmul
   \   00000256   0x4652             MOV      R2,R10
   \   00000258   0x465B             MOV      R3,R11
   \   0000025A   0x.... 0x....      BL       __aeabi_dadd
   \   0000025E   0x.... 0x....      BL       __aeabi_d2f
   \   00000262   0x....             LDR.N    R1,??DataTable5_27
   \   00000264   0x6008             STR      R0,[R1, #+0]
   \   00000266   0xE008             B.N      ??MS5611_getPressure_5
    200              }
    201            }
    202            else
    203            {
    204               TEMP2 = 0;  
   \                     ??MS5611_getPressure_4: (+1)
   \   00000268   0x....             LDR.N    R0,??DataTable5_22
   \   0000026A   0x2100             MOVS     R1,#+0
   \   0000026C   0x6001             STR      R1,[R0, #+0]
    205               OFF2 = 0;  
   \   0000026E   0x....             LDR.N    R0,??DataTable5_25
   \   00000270   0x2100             MOVS     R1,#+0
   \   00000272   0x6001             STR      R1,[R0, #+0]
    206               SENS2 = 0;  
   \   00000274   0x....             LDR.N    R0,??DataTable5_27
   \   00000276   0x2100             MOVS     R1,#+0
   \   00000278   0x6001             STR      R1,[R0, #+0]
    207            }
    208            Temperature = Temperature - TEMP2;
   \                     ??MS5611_getPressure_5: (+1)
   \   0000027A   0x....             LDR.N    R0,??DataTable5_21
   \   0000027C   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   00000280   0x....             LDR.N    R0,??DataTable5_22
   \   00000282   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   00000286   0xEE30 0x0A60      VSUB.F32 S0,S0,S1
   \   0000028A   0x....             LDR.N    R0,??DataTable5_21
   \   0000028C   0xED80 0x0A00      VSTR     S0,[R0, #0]
    209            OFF = OFF - OFF2;
   \   00000290   0x....             LDR.N    R0,??DataTable5_25
   \   00000292   0x6800             LDR      R0,[R0, #+0]
   \   00000294   0x.... 0x....      BL       __aeabi_f2d
   \   00000298   0x0002             MOVS     R2,R0
   \   0000029A   0x000B             MOVS     R3,R1
   \   0000029C   0x....             LDR.N    R0,??DataTable5_19
   \   0000029E   0xE9D0 0x0100      LDRD     R0,R1,[R0, #+0]
   \   000002A2   0x.... 0x....      BL       __aeabi_dsub
   \   000002A6   0x....             LDR.N    R2,??DataTable5_19
   \   000002A8   0xE9C2 0x0100      STRD     R0,R1,[R2, #+0]
    210            SENS = SENS - SENS2;  
   \   000002AC   0x....             LDR.N    R0,??DataTable5_27
   \   000002AE   0x6800             LDR      R0,[R0, #+0]
   \   000002B0   0x.... 0x....      BL       __aeabi_f2d
   \   000002B4   0x0002             MOVS     R2,R0
   \   000002B6   0x000B             MOVS     R3,R1
   \   000002B8   0x....             LDR.N    R0,??DataTable5_20
   \   000002BA   0xE9D0 0x0100      LDRD     R0,R1,[R0, #+0]
   \   000002BE   0x.... 0x....      BL       __aeabi_dsub
   \   000002C2   0x....             LDR.N    R2,??DataTable5_20
   \   000002C4   0xE9C2 0x0100      STRD     R0,R1,[R2, #+0]
    211            Pressure=((D1_Pres_f*SENS)/2097152-OFF)/32768;
   \   000002C8   0x....             LDR.N    R0,??DataTable5_17
   \   000002CA   0x6800             LDR      R0,[R0, #+0]
   \   000002CC   0x.... 0x....      BL       __aeabi_ui2d
   \   000002D0   0x....             LDR.N    R2,??DataTable5_20
   \   000002D2   0xE9D2 0x2300      LDRD     R2,R3,[R2, #+0]
   \   000002D6   0x.... 0x....      BL       __aeabi_dmul
   \   000002DA   0x2200             MOVS     R2,#+0
   \   000002DC   0x....             LDR.N    R3,??DataTable5_29  ;; 0x41400000
   \   000002DE   0x.... 0x....      BL       __aeabi_ddiv
   \   000002E2   0x....             LDR.N    R2,??DataTable5_19
   \   000002E4   0xE9D2 0x2300      LDRD     R2,R3,[R2, #+0]
   \   000002E8   0x.... 0x....      BL       __aeabi_dsub
   \   000002EC   0x2200             MOVS     R2,#+0
   \   000002EE   0x....             LDR.N    R3,??DataTable5_30  ;; 0x40e00000
   \   000002F0   0x.... 0x....      BL       __aeabi_ddiv
   \   000002F4   0x.... 0x....      BL       __aeabi_d2f
   \   000002F8   0x....             LDR.N    R1,??DataTable5_31
   \   000002FA   0x6008             STR      R0,[R1, #+0]
    212            Pressure_f = 0.6 * Pressure + 0.4 * Pressure_f;
   \   000002FC   0x....             LDR.N    R0,??DataTable5_31
   \   000002FE   0x6800             LDR      R0,[R0, #+0]
   \   00000300   0x.... 0x....      BL       __aeabi_f2d
   \   00000304   0xF05F 0x3233      MOVS     R2,#+858993459
   \   00000308   0x....             LDR.N    R3,??DataTable5_32  ;; 0x3fe33333
   \   0000030A   0x.... 0x....      BL       __aeabi_dmul
   \   0000030E   0x4680             MOV      R8,R0
   \   00000310   0x4689             MOV      R9,R1
   \   00000312   0x....             LDR.N    R0,??DataTable5_33
   \   00000314   0x6800             LDR      R0,[R0, #+0]
   \   00000316   0x.... 0x....      BL       __aeabi_f2d
   \   0000031A   0x....             LDR.N    R2,??DataTable5_34  ;; 0x9999999a
   \   0000031C   0x....             LDR.N    R3,??DataTable5_35  ;; 0x3fd99999
   \   0000031E   0x.... 0x....      BL       __aeabi_dmul
   \   00000322   0x4642             MOV      R2,R8
   \   00000324   0x464B             MOV      R3,R9
   \   00000326   0x.... 0x....      BL       __aeabi_dadd
   \   0000032A   0x.... 0x....      BL       __aeabi_d2f
   \   0000032E   0x....             LDR.N    R1,??DataTable5_33
   \   00000330   0x6008             STR      R0,[R1, #+0]
    213          }
   \                     ??MS5611_getPressure_6: (+1)
   \   00000332   0xE8BD 0x8FF1      POP      {R0,R4-R11,PC}   ;; return
    214          
    215          /*******************************************************************************
    216            通过MS5611模块得到温度值
    217            函数名称：MS5611_getTemperature
    218            输入参数：温度分辨率系数
    219            输出参数：void
    220          *******************************************************************************/

   \                                 In section .text, align 4, keep-with-next
    221          void MS5611_getTemperature(unsigned char OSR_Temp)    
    222          {
   \                     _Z21MS5611_getTemperatureh: (+1)
   \   00000000   0xE92D 0x4DF0      PUSH     {R4-R8,R10,R11,LR}
   \   00000004   0x0004             MOVS     R4,R0
    223            u8 temp = 0;
   \   00000006   0x2600             MOVS     R6,#+0
    224            char count,i;
    225            unsigned long sum=0;   
   \   00000008   0x2500             MOVS     R5,#+0
    226            
    227          //  temp = MS5611_ReadWriteByte(CMD_CONVERT_D2_OSR4096, SPI_PCS_INACTIVE);
    228            temp = MS5611_ReadWriteByte(OSR_Temp, SPI_PCS_INACTIVE);                               
   \   0000000A   0x2100             MOVS     R1,#+0
   \   0000000C   0x0020             MOVS     R0,R4
   \   0000000E   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000010   0x.... 0x....      BL       _Z20MS5611_ReadWriteBytehh
   \   00000014   0x4680             MOV      R8,R0
    229            LPTMR_DelayMs(10);                                       //此处延时必须加
   \   00000016   0x200A             MOVS     R0,#+10
   \   00000018   0x.... 0x....      BL       LPTMR_DelayMs
    230          //  D2_Temp = MS5611_SPI_read_ADC(); 
    231            value_buf2[0] = MS5611_SPI_read_ADC();
   \   0000001C   0x.... 0x....      BL       _Z19MS5611_SPI_read_ADCv
   \   00000020   0x....             LDR.N    R1,??DataTable5_36
   \   00000022   0x6008             STR      R0,[R1, #+0]
    232            for(i=0;i<N_P;i++)sum+=value_buf2[i];
   \   00000024   0x2600             MOVS     R6,#+0
   \                     ??MS5611_getTemperature_0: (+1)
   \   00000026   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   00000028   0x2E0A             CMP      R6,#+10
   \   0000002A   0xDA06             BGE.N    ??MS5611_getTemperature_1
   \   0000002C   0x....             LDR.N    R0,??DataTable5_36
   \   0000002E   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   00000030   0xF850 0x0026      LDR      R0,[R0, R6, LSL #+2]
   \   00000034   0x1945             ADDS     R5,R0,R5
   \   00000036   0x1C76             ADDS     R6,R6,#+1
   \   00000038   0xE7F5             B.N      ??MS5611_getTemperature_0
    233            D2_Temp = sum/N_P;
   \                     ??MS5611_getTemperature_1: (+1)
   \   0000003A   0x200A             MOVS     R0,#+10
   \   0000003C   0xFBB5 0xF0F0      UDIV     R0,R5,R0
   \   00000040   0x....             LDR.N    R1,??DataTable5_37
   \   00000042   0x6008             STR      R0,[R1, #+0]
    234            for(count=0;count<N_P-1;count++)
   \   00000044   0x2700             MOVS     R7,#+0
   \                     ??MS5611_getTemperature_2: (+1)
   \   00000046   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   00000048   0x2F09             CMP      R7,#+9
   \   0000004A   0xDA0D             BGE.N    ??MS5611_getTemperature_3
    235            {
    236              value_buf2[N_P - count - 1] = value_buf2[N_P - count - 2];
   \   0000004C   0x....             LDR.N    R0,??DataTable5_36
   \   0000004E   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   00000050   0x4279             RSBS     R1,R7,#+0
   \   00000052   0xEB00 0x0081      ADD      R0,R0,R1, LSL #+2
   \   00000056   0x6A00             LDR      R0,[R0, #+32]
   \   00000058   0x....             LDR.N    R1,??DataTable5_36
   \   0000005A   0xB2FF             UXTB     R7,R7            ;; ZeroExt  R7,R7,#+24,#+24
   \   0000005C   0x427A             RSBS     R2,R7,#+0
   \   0000005E   0xEB01 0x0182      ADD      R1,R1,R2, LSL #+2
   \   00000062   0x6248             STR      R0,[R1, #+36]
    237            }
   \   00000064   0x1C7F             ADDS     R7,R7,#+1
   \   00000066   0xE7EE             B.N      ??MS5611_getTemperature_2
    238            D2_Temp_f = 0.6 * D2_Temp + 0.4 * D2_Temp_f;
   \                     ??MS5611_getTemperature_3: (+1)
   \   00000068   0x....             LDR.N    R0,??DataTable5_37
   \   0000006A   0x6800             LDR      R0,[R0, #+0]
   \   0000006C   0x.... 0x....      BL       __aeabi_ui2d
   \   00000070   0xF05F 0x3233      MOVS     R2,#+858993459
   \   00000074   0x....             LDR.N    R3,??DataTable5_32  ;; 0x3fe33333
   \   00000076   0x.... 0x....      BL       __aeabi_dmul
   \   0000007A   0x4682             MOV      R10,R0
   \   0000007C   0x468B             MOV      R11,R1
   \   0000007E   0x....             LDR.N    R0,??DataTable5_38
   \   00000080   0x6800             LDR      R0,[R0, #+0]
   \   00000082   0x.... 0x....      BL       __aeabi_ui2d
   \   00000086   0x....             LDR.N    R2,??DataTable5_34  ;; 0x9999999a
   \   00000088   0x....             LDR.N    R3,??DataTable5_35  ;; 0x3fd99999
   \   0000008A   0x.... 0x....      BL       __aeabi_dmul
   \   0000008E   0x4652             MOV      R2,R10
   \   00000090   0x465B             MOV      R3,R11
   \   00000092   0x.... 0x....      BL       __aeabi_dadd
   \   00000096   0x.... 0x....      BL       __aeabi_d2uiz
   \   0000009A   0x....             LDR.N    R1,??DataTable5_38
   \   0000009C   0x6008             STR      R0,[R1, #+0]
    239          //  D2_Temp = 8181000;
    240            dT=D2_Temp_f - (((unsigned long)C5)<<8);
   \   0000009E   0x....             LDR.N    R0,??DataTable5_38
   \   000000A0   0x6800             LDR      R0,[R0, #+0]
   \   000000A2   0x....             LDR.N    R1,??DataTable5_11
   \   000000A4   0x8809             LDRH     R1,[R1, #+0]
   \   000000A6   0xEBB0 0x2001      SUBS     R0,R0,R1, LSL #+8
   \   000000AA   0xEE00 0x0A10      VMOV     S0,R0
   \   000000AE   0xEEB8 0x0A40      VCVT.F32.U32 S0,S0
   \   000000B2   0x....             LDR.N    R0,??DataTable5_18
   \   000000B4   0xED80 0x0A00      VSTR     S0,[R0, #0]
    241            Temperature = 2000+dT*((unsigned long)C6)/8388608;
   \   000000B8   0x....             LDR.N    R0,??DataTable5_12
   \   000000BA   0x8800             LDRH     R0,[R0, #+0]
   \   000000BC   0xEE00 0x0A10      VMOV     S0,R0
   \   000000C0   0xEEB8 0x0A40      VCVT.F32.U32 S0,S0
   \   000000C4   0x....             LDR.N    R0,??DataTable5_18
   \   000000C6   0xEDD0 0x0A00      VLDR     S1,[R0, #0]
   \   000000CA   0xEE20 0x0A20      VMUL.F32 S0,S0,S1
   \   000000CE   0xEDDF 0x....      VLDR.W   S1,??DataTable5  ;; 0x4b000000
   \   000000D2   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   000000D6   0xEDDF 0x....      VLDR.W   S1,??DataTable5_1  ;; 0x44fa0000
   \   000000DA   0xEE30 0x0A20      VADD.F32 S0,S0,S1
   \   000000DE   0x....             LDR.N    R0,??DataTable5_21
   \   000000E0   0xED80 0x0A00      VSTR     S0,[R0, #0]
    242          }
   \                     ??MS5611_getTemperature_4: (+1)
   \   000000E4   0xE8BD 0x8DF0      POP      {R4-R8,R10,R11,PC}  ;; return
    243          
    244          /*******************************************************************************
    245            根据大气压算出海拔高度 
    246            函数名称：get_altitude
    247            输入参数：void
    248            输出参数：海拔高度
    249          *******************************************************************************/

   \                                 In section .text, align 4, keep-with-next
    250          float get_altitude(void)                             
    251          {
   \                     _Z12get_altitudev: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0xED2D 0x8B06      VPUSH    {D8-D10}
    252            float tmp_float1,Altitude,Altitude_f;     
    253            tmp_float = (Pressure_f / 101325.0f);
   \   00000006   0x....             LDR.N    R0,??DataTable5_33
   \   00000008   0xED90 0x0A00      VLDR     S0,[R0, #0]
   \   0000000C   0xEDDF 0x....      VLDR.W   S1,??DataTable5_2  ;; 0x47c5e680
   \   00000010   0xEE80 0x0A20      VDIV.F32 S0,S0,S1
   \   00000014   0x....             LDR.N    R0,??DataTable5_39
   \   00000016   0xED80 0x0A00      VSTR     S0,[R0, #0]
    254            tmp_float1 = pow(tmp_float, 0.190295f);               
   \   0000001A   0xEDDF 0x....      VLDR.W   S19,??DataTable5_3  ;; 0x3e42dcb1
   \   0000001E   0x....             LDR.N    R0,??DataTable5_39
   \   00000020   0xED90 0xAA00      VLDR     S20,[R0, #0]
   \   00000024   0xEEF0 0x0A69      VMOV.F32 S1,S19
   \   00000028   0xEEB0 0x0A4A      VMOV.F32 S0,S20
   \   0000002C   0x.... 0x....      BL       powf
   \   00000030   0xEEB0 0x8A40      VMOV.F32 S16,S0
    255            Altitude = 44330 * (1.0f - tmp_float1);
   \   00000034   0xEEB7 0x0A00      VMOV.F32 S0,#1.0
   \   00000038   0xEE30 0x0A48      VSUB.F32 S0,S0,S16
   \   0000003C   0xEDDF 0x....      VLDR.W   S1,??DataTable5_4  ;; 0x472d2a00
   \   00000040   0xEE60 0x8A20      VMUL.F32 S17,S0,S1
    256          //  Altitude  = (44330.0f*(1.0f - pow((float)Pressure/101325.0f, 0.190295f))) ;
    257            Altitude_f = 0.6*Altitude + 0.4*Altitude_f;
   \   00000044   0xEE18 0x0A90      VMOV     R0,S17
   \   00000048   0x.... 0x....      BL       __aeabi_f2d
   \   0000004C   0xF05F 0x3233      MOVS     R2,#+858993459
   \   00000050   0x....             LDR.N    R3,??DataTable5_32  ;; 0x3fe33333
   \   00000052   0x.... 0x....      BL       __aeabi_dmul
   \   00000056   0x0004             MOVS     R4,R0
   \   00000058   0x000D             MOVS     R5,R1
   \   0000005A   0xEE19 0x0A10      VMOV     R0,S18
   \   0000005E   0x.... 0x....      BL       __aeabi_f2d
   \   00000062   0x....             LDR.N    R2,??DataTable5_34  ;; 0x9999999a
   \   00000064   0x....             LDR.N    R3,??DataTable5_35  ;; 0x3fd99999
   \   00000066   0x.... 0x....      BL       __aeabi_dmul
   \   0000006A   0x0022             MOVS     R2,R4
   \   0000006C   0x002B             MOVS     R3,R5
   \   0000006E   0x.... 0x....      BL       __aeabi_dadd
   \   00000072   0x.... 0x....      BL       __aeabi_d2f
   \   00000076   0xEE00 0x0A10      VMOV     S0,R0
    258          //  if(!BaroInitFlag)
    259          //  {
    260          //    BaroInitSampleValue[BaroInitSampleTime++] = Altitude;
    261          //  }
    262          //  else
    263          //  {
    264          //    Altitude -= BaroHightInit;
    265          //  }
    266            return (Altitude_f);
   \   0000007A   0xECBD 0x8B06      VPOP     {D8-D10}
   \   0000007E   0xBD31             POP      {R0,R4,R5,PC}    ;; return
    267          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0x43000000         DC32     0x43000000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0x43800000         DC32     0x43800000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0x44FA0000         DC32     0x44fa0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0x4F000000         DC32     0x4f000000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0xC4FA0000         DC32     0xc4fa0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_5:
   \   00000000   0xC4BB8000         DC32     0xc4bb8000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   0x44BB8000         DC32     0x44bb8000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   0x4B000000         DC32     0x4b000000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_1:
   \   00000000   0x44FA0000         DC32     0x44fa0000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_2:
   \   00000000   0x47C5E680         DC32     0x47c5e680

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_3:
   \   00000000   0x3E42DCB1         DC32     0x3e42dcb1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_4:
   \   00000000   0x472D2A00         DC32     0x472d2a00

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_5:
   \   00000000   0x........         DC32     BarodistanceFilter

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_6:
   \   00000000   0x4002D000         DC32     0x4002d000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_7:
   \   00000000   0x........         DC32     `C1`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_8:
   \   00000000   0x........         DC32     `C2`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_9:
   \   00000000   0x........         DC32     `C3`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_10:
   \   00000000   0x........         DC32     `C4`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_11:
   \   00000000   0x........         DC32     `C5`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_12:
   \   00000000   0x........         DC32     `C6`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_13:
   \   00000000   0x........         DC32     setup

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_14:
   \   00000000   0x........         DC32     CRC_1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_15:
   \   00000000   0x........         DC32     value_buf1

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_16:
   \   00000000   0x........         DC32     D1_Pres

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_17:
   \   00000000   0x........         DC32     D1_Pres_f

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_18:
   \   00000000   0x........         DC32     dT

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_19:
   \   00000000   0x........         DC32     OFF

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_20:
   \   00000000   0x........         DC32     SENS

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_21:
   \   00000000   0x........         DC32     Temperature

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_22:
   \   00000000   0x........         DC32     TEMP2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_23:
   \   00000000   0x........         DC32     Aux

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_24:
   \   00000000   0x40040000         DC32     0x40040000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_25:
   \   00000000   0x........         DC32     OFF2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_26:
   \   00000000   0x3FF40000         DC32     0x3ff40000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_27:
   \   00000000   0x........         DC32     SENS2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_28:
   \   00000000   0x40160000         DC32     0x40160000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_29:
   \   00000000   0x41400000         DC32     0x41400000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_30:
   \   00000000   0x40E00000         DC32     0x40e00000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_31:
   \   00000000   0x........         DC32     Pressure

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_32:
   \   00000000   0x3FE33333         DC32     0x3fe33333

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_33:
   \   00000000   0x........         DC32     Pressure_f

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_34:
   \   00000000   0x9999999A         DC32     0x9999999a

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_35:
   \   00000000   0x3FD99999         DC32     0x3fd99999

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_36:
   \   00000000   0x........         DC32     value_buf2

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_37:
   \   00000000   0x........         DC32     D2_Temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_38:
   \   00000000   0x........         DC32     D2_Temp_f

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable5_39:
   \   00000000   0x........         DC32     tmp_float
    268          
    269            

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   CJumpFilter::CJumpFilter()
       8   MS5611_PROM_READ()
         8   -> MS5611_ReadWrite_16bits(unsigned char)
       8   MS5611_RESET()
         8   -> MS5611_ReadWriteByte(u8, u8)
      16   MS5611_ReadWriteByte(u8, u8)
        16   -> SPI_Master_WriteRead
      16   MS5611_ReadWrite_16bits(unsigned char)
        16   -> MS5611_ReadWriteByte(u8, u8)
      16   MS5611_SPI_read_ADC()
        16   -> MS5611_ReadWriteByte(u8, u8)
      16   MS5611_Write_Reg(u8, u8)
        16   -> MS5611_ReadWriteByte(u8, u8)
      40   MS5611_getPressure(unsigned char)
        40   -> LPTMR_DelayMs
        40   -> MS5611_ReadWriteByte(u8, u8)
        40   -> MS5611_SPI_read_ADC()
        40   -> __aeabi_d2f
        40   -> __aeabi_dadd
        40   -> __aeabi_ddiv
        40   -> __aeabi_dmul
        40   -> __aeabi_dsub
        40   -> __aeabi_f2d
        40   -> __aeabi_ui2d
      32   MS5611_getTemperature(unsigned char)
        32   -> LPTMR_DelayMs
        32   -> MS5611_ReadWriteByte(u8, u8)
        32   -> MS5611_SPI_read_ADC()
        32   -> __aeabi_d2uiz
        32   -> __aeabi_dadd
        32   -> __aeabi_dmul
        32   -> __aeabi_ui2d
       8   MS5611_init()
         8   -> LPTMR_DelayMs
         8   -> MS5611_PROM_READ()
         8   -> MS5611_RESET()
       8   __sti__routine()
         8   -> CJumpFilter::CJumpFilter()
      40   get_altitude()
        40   -> __aeabi_d2f
        40   -> __aeabi_dadd
        40   -> __aeabi_dmul
        40   -> __aeabi_f2d
        40   -> powf


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_2
       4  ??DataTable3_3
       4  ??DataTable3_4
       4  ??DataTable3_5
       4  ??DataTable4
       4  ??DataTable5
       4  ??DataTable5_1
       4  ??DataTable5_10
       4  ??DataTable5_11
       4  ??DataTable5_12
       4  ??DataTable5_13
       4  ??DataTable5_14
       4  ??DataTable5_15
       4  ??DataTable5_16
       4  ??DataTable5_17
       4  ??DataTable5_18
       4  ??DataTable5_19
       4  ??DataTable5_2
       4  ??DataTable5_20
       4  ??DataTable5_21
       4  ??DataTable5_22
       4  ??DataTable5_23
       4  ??DataTable5_24
       4  ??DataTable5_25
       4  ??DataTable5_26
       4  ??DataTable5_27
       4  ??DataTable5_28
       4  ??DataTable5_29
       4  ??DataTable5_3
       4  ??DataTable5_30
       4  ??DataTable5_31
       4  ??DataTable5_32
       4  ??DataTable5_33
       4  ??DataTable5_34
       4  ??DataTable5_35
       4  ??DataTable5_36
       4  ??DataTable5_37
       4  ??DataTable5_38
       4  ??DataTable5_39
       4  ??DataTable5_4
       4  ??DataTable5_5
       4  ??DataTable5_6
       4  ??DataTable5_7
       4  ??DataTable5_8
       4  ??DataTable5_9
       4  Aux
       8  BaroHightInit
       1  BaroInitFlag
       4  BaroInitSampleTime
     200  BaroInitSampleValue
       8  Baro_hight
      56  BarodistanceFilter
       2  C1
       2  C2
       2  C3
       2  C4
       2  C5
       2  C6
      24  CJumpFilter::CJumpFilter()
       2  CRC_1
       4  D1_Pres
       4  D1_Pres_f
       4  D2_Temp
       4  D2_Temp_f
     100  MS5611_PROM_READ()
      12  MS5611_RESET()
      28  MS5611_ReadWriteByte(u8, u8)
      46  MS5611_ReadWrite_16bits(unsigned char)
      56  MS5611_SPI_read_ADC()
      34  MS5611_Write_Reg(u8, u8)
     822  MS5611_getPressure(unsigned char)
     232  MS5611_getTemperature(unsigned char)
      24  MS5611_init()
       8  OFF
       4  OFF2
       4  Pressure
       4  Pressure_f
       8  SENS
       4  SENS2
       4  TEMP2
       4  Temperature
      12  __sti__routine()
       4  dT
     128  get_altitude()
       2  setup
       4  tmp_float
      40  value_buf1
      40  value_buf2
      76  -- Other

 
    72 bytes in section .ARM.exidx
   441 bytes in section .bss
     4 bytes in section .init_array
 1 706 bytes in section .text
 
 1 686 bytes of CODE  memory (+ 24 bytes shared)
    72 bytes of CONST memory
   441 bytes of DATA  memory

Errors: none
Warnings: 6
