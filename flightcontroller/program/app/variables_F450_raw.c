#include "variables.h"

#if THIS_PLANE == QAV250
int t = 0, tTrans = 0;
float temp_111;
//AHRS_TypeDef AHRS, AHRS0;
float dis_set_hight;

float ControlOutput_ZChannel;

void PID_Controller::reset()
{
  this->I = 0;
}

/*****************************************************************************/
/*****************************************************************************/
PID_Controller 
gyroX = 
{
  .Kp0  = 5, //8
  .Ki0  = 1, //1.8//3
  .Kd0  = 150,
  .fuzzy = 0,
  .D_smoother = 0.2,
  .smoother = 0,
  .integralLimit = 200000,
  .outputLimit  = 500,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {  
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
}, 


gyroY = 
{
  .Kp0  = 5,
  .Ki0  = 1,//2 //3
  .Kd0  = 150,
  .fuzzy = 0,
  .D_smoother = 0.2,
  .smoother = 0,
  .integralLimit = 200000,
  .outputLimit  = 500,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {  
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},


gyroZ = 
{
  .Kp0  = 800, //1800
  .Ki0  = 0,//50,
  .Kd0  = 150, 
  .fuzzy = 0,
  .D_smoother = 0.2,
  .smoother = 0,
  .integralLimit = 10000,
  .outputLimit  = 200,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {  
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},

/*****************************************************************************/
/*****************************************************************************/

angleX = 
{
  .Kp0  = 5000,//10000
  .Ki0  = 0,//100,
  .Kd0  = 1500,//2500
  .fuzzy = 0,
  .smoother = 0,
  .integralLimit = 4000,
  .outputLimit  = 1200,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {  
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},



angleY = 
{
  .Kp0  = 5000,
  .Ki0  = 0,// 100,
  .Kd0  = 1500,
  .fuzzy = 0,
  .smoother = 0,
  .integralLimit = 4000,
  .outputLimit  = 1200,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},

angleZ = 
{
  .Kp0  = 800,//1800
  .Ki0  = 0,
  .Kd0  = 200,
  .fuzzy = 0,
  .smoother = 0,
  .integralLimit = 4000,
  .outputLimit  = 150,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},

/*****************************************************************************/
/*****************************************************************************/
positionX_vel = 
{
  .Kp0  = 6000, //2000
  .Ki0  = 0,//100
  .Kd0  = 200, //200
  .fuzzy = 0,
  .D_smoother = 0.96,
  .smoother = 0,
  .integralLimit = 100,
  .outputLimit  = 6,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},
positionY_vel = 
{
  .Kp0  = 6000, //2000
  .Ki0  = 0,//100
  .Kd0  = 150, //200
  .fuzzy = 0,
  .D_smoother = 0.96,
  .smoother = 0,
  .integralLimit = 100,
  .outputLimit  = 6,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},

positionZ_vel = 
{
  .Kp0  = 40000, //40000 
  .Ki0  = 340,   //340
  .Kd0  = 10000,  //68000
  .fuzzy = 0,
  .D_smoother = 0.993,
  .smoother = 0,
  .integralLimit = 5000,
  .outputLimit  = 100,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},

/*****************************************************************************/
/*****************************************************************************/

positionX = 
{
  .Kp0  = 100,
  .Ki0  = 0,
  .Kd0  = 0,
  .fuzzy = 0,
  .D_smoother = 0.99,
  .smoother = 0,
  .integralLimit = 100,
  .outputLimit  = 0.4,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},
positionY = 
{
  .Kp0  = 100,
  .Ki0  = 0,
  .Kd0  = 0,
  .fuzzy = 0,
  .D_smoother = 0.99,
  .smoother = 0,
  .integralLimit = 100,
  .outputLimit  = 0.8,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
},
positionZ = 
{
  .Kp0  = 1000, //800
  .Ki0  = 0,
  .Kd0  = 700, //500
  .fuzzy = 0,
  .D_smoother = 0.96,
  .smoother = 0,
  .integralLimit = 1000,
  .outputLimit  = 0.5,
  .OffsetBound  = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .OffsetDBound = {-420 , -300 , -180 , 0 , 180 , 300 , 420},
  .KpStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KiStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  },

  .KdStrategy   = {
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  },
                    {  90,   90,  90,  90,  99,  90,  90  },
                    {  90,   90,  90,  90,  90,  90,  90  }
                  }
}
;

/*****************************************************************************/
/*****************************************************************************/

Rotor controlOutput;

void findDifference::getresult(float data, float min, float max, int num)
{
  this->min = max;
  this->max = min;
  
  for(int i=0; i<num; i++)
  {
    this->H[i] = this->H[i+1];
    
    if(this->H[i] < this->min) this->min = this->H[i];
    if(this->H[i] > this->max) this->max = this->H[i];
  }
  this->diff = this->max - this->min;
  this->H[num] = data;
}

findDifference Diffa;


//float roll, pitch, yaw;
float roll1, pitch1, yaw1, yaw2;
float roll3, pitch3, yaw3, yaw4;

int RXD_Iterator_6050 = 0;

int powerVoltage_12, powerVoltage_5, powerVoltage_3v3;
int updateErrorCnt = 0;

int OffsetMembership_X[NUM]={0};
int OffsetDMembership_X[NUM]={0};

int OffsetMembership_Y[NUM]={0};
int OffsetDMembership_Y[NUM]={0};


int   rowTX_X = 0;
int   columnTX_X = 0;
int   Kp_X = 80,  Ki_X = 80,  Kd_X = 80;
int   Kp_X0 = 20, Ki_X0 = 50, Kd_X0 = 5;


int   rowTX_Y = 0;
int   columnTX_Y = 0;
int   Kp_Y = 80,  Ki_Y = 80,  Kd_Y = 80;
int   Kp_Y0 = 20, Ki_Y0 = 50, Kd_Y0 = 5;


int fanIniSpd = 4150;

int rotor1, rotor2, rotor3, rotor4;
#endif